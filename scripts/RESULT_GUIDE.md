# ğŸ“Š ê²°ê³¼ ë¶„ì„ ë° ë‹¤ìŒ ë‹¨ê³„ ê²°ì • ê°€ì´ë“œ

ê° Phase ì™„ë£Œ í›„, ê²°ê³¼ë¥¼ ë³´ê³  ë‹¤ìŒ ë‹¨ê³„ë¥¼ ê²°ì •í•´ì•¼ í•©ë‹ˆë‹¤.
ì•„ë˜ ì •ë³´ë¥¼ ë³µì‚¬í•´ì„œ ë³´ë‚´ì£¼ì‹œë©´ ìµœì ì˜ ì„¤ì •ì„ ì¶”ì²œí•´ë“œë¦½ë‹ˆë‹¤.

---

## Phase 1 ì™„ë£Œ í›„

### ğŸ“‹ ë³µì‚¬í•  ì •ë³´

```bash
# 1. í…ŒìŠ¤íŠ¸ ê²°ê³¼ (í•µì‹¬!)
cat new/models/phase1/logs/test.log

# íŠ¹íˆ ì´ ë¶€ë¶„:
# - MAE, RMSE
# - Median, P90, P95, Max
# - Within 1m/2m/3m
# - Outlier ë¶„í¬ (>3m, >4m, >5m)

# 2. í•™ìŠµ ê³¡ì„  ë§ˆì§€ë§‰ ë¶€ë¶„
tail -50 new/models/phase1/logs/train.log

# íŠ¹íˆ:
# - Best epoch ëª‡ ë²ˆ?
# - Val RMSE, Val P90 ì¶”ì´
# - Early stopping ëëŠ”ì§€?
```

### ğŸ¤” íŒë‹¨ ê¸°ì¤€

**ê²°ê³¼ë¥¼ ë³´ê³  íŒë‹¨í•  ê²ƒ**:

| ì§€í‘œ | ê²°ê³¼ | íŒë‹¨ |
|------|------|------|
| **RMSE** | < 2.3m | âœ… ì¢‹ìŒ, Phase 2 ì§„í–‰ |
| | 2.3-2.6m | âš ï¸ ë³´í†µ, Phase 2 ì§„í–‰ í›„ ì¬í‰ê°€ |
| | > 2.6m | âŒ ë‚˜ì¨, íŒŒë¼ë¯¸í„° ì¬ì¡°ì • í•„ìš” |
| **P90** | < 1.6m | âœ… ì¢‹ìŒ |
| | 1.6-1.9m | âš ï¸ ë³´í†µ |
| | > 1.9m | âŒ ë‚˜ì¨, LR/Depth ì¡°ì • í•„ìš” |
| **Within 1m** | > 70% | âœ… ì¢‹ìŒ |
| | 60-70% | âš ï¸ ë³´í†µ |
| | < 60% | âŒ ë‚˜ì¨, ì „ì²˜ë¦¬ ì¬í™•ì¸ |
| **Max error** | < 12m | âœ… ì •ìƒ |
| | 12-20m | âš ï¸ Outlier ë§ìŒ |
| | > 20m | âŒ ë°ì´í„° ë¬¸ì œ ê°€ëŠ¥ì„± |

### ğŸ“ ë³µì‚¬ í…œí”Œë¦¿

```
====================================================================
Phase 1 ê²°ê³¼ ë¦¬í¬íŠ¸
====================================================================

--- í…ŒìŠ¤íŠ¸ ê²°ê³¼ ---
MAE:  [X.XXX]m
RMSE: [X.XXX]m
Median: [X.XXX]m
P90:  [X.XXX]m
P95:  [X.XXX]m
Max:  [XX.XX]m

Within 1m: [XX.X]%
Within 2m: [XX.X]%
Within 3m: [XX.X]%

--- Outlier ë¶„í¬ ---
> 3m: [XXX]ê°œ (X.X%)
> 4m: [XXX]ê°œ (X.X%)
> 5m: [XXX]ê°œ (X.X%)
> 6m: [XXX]ê°œ (X.X%)

--- í•™ìŠµ ì •ë³´ ---
Best epoch: [XX]
Best Val P90: [X.XXX]m
Early stopping: [Yes/No]

====================================================================
```

### ğŸ’¡ ì˜ì‚¬ê²°ì • ì˜ˆì‹œ

**ì˜ˆì‹œ 1: ì¢‹ì€ ê²°ê³¼**
```
RMSE: 2.2m
P90: 1.5m
Within 1m: 72%
> 5m: 156ê°œ (1.4%)

â†’ âœ… Phase 2 ì§„í–‰
â†’ Outlier threshold: 5.0m (í‘œì¤€)
```

**ì˜ˆì‹œ 2: ë³´í†µ ê²°ê³¼**
```
RMSE: 2.5m
P90: 1.8m
Within 1m: 65%
> 5m: 345ê°œ (3.1%)

â†’ âš ï¸ Phase 2 ì§„í–‰í•˜ë˜, Outlier ë§ìŒ ì£¼ì˜
â†’ Outlier threshold: 4.0m (ë” ê³µê²©ì ìœ¼ë¡œ)
â†’ ë˜ëŠ” Depth 12ë¡œ ì¬í•™ìŠµ ê³ ë ¤
```

**ì˜ˆì‹œ 3: ë‚˜ìœ ê²°ê³¼**
```
RMSE: 3.1m
P90: 2.3m
Within 1m: 52%
> 5m: 678ê°œ (6.1%)

â†’ âŒ Phase 2 ì§„í–‰ ì „ ì¬ì¡°ì • í•„ìš”
â†’ ì˜µì…˜ 1: LR ë” ë‚®ì¶”ê¸° (5e-5)
â†’ ì˜µì…˜ 2: Depth 8ë¡œ ì¤„ì´ê¸° (ê³¼ì í•© ê°€ëŠ¥ì„±)
â†’ ì˜µì…˜ 3: Warmup 15ë¡œ ëŠ˜ë¦¬ê¸°
```

---

## Phase 2 ì™„ë£Œ í›„

### ğŸ“‹ ë³µì‚¬í•  ì •ë³´

```bash
# 1. Phase 2 ê²°ê³¼
cat new/models/phase2/logs/test.log

# 2. Phase 1ê³¼ ë¹„êµ
echo "=== Phase 1 ==="
grep -A 10 "ê¸°ë³¸ ë©”íŠ¸ë¦­" new/models/phase1/logs/test.log
echo "=== Phase 2 ==="
grep -A 10 "ê¸°ë³¸ ë©”íŠ¸ë¦­" new/models/phase2/logs/test.log

# 3. ê°œì„ í­ í™•ì¸
# RMSE, P90 ì–¼ë§ˆë‚˜ ì¤„ì—ˆëŠ”ì§€?
```

### ğŸ¤” íŒë‹¨ ê¸°ì¤€

| Phase 1 â†’ Phase 2 | íŒë‹¨ | ë‹¤ìŒ ë‹¨ê³„ |
|-------------------|------|-----------|
| RMSE 10% ì´ìƒ ê°ì†Œ | âœ… Gradient feature íš¨ê³¼ í¼ | Phase 3 ì§„í–‰ |
| RMSE 5-10% ê°ì†Œ | âš ï¸ ë³´í†µ | Phase 3 ì§„í–‰ |
| RMSE 5% ë¯¸ë§Œ ê°ì†Œ | âŒ íš¨ê³¼ ë¯¸ë¯¸ | Gradient feature ì¬ê²€í†  |
| RMSE ì¦ê°€ | âŒâŒ ë¬¸ì œ ìˆìŒ | Phase 1ë¡œ ë³µê·€ |

### ğŸ“ ë³µì‚¬ í…œí”Œë¦¿

```
====================================================================
Phase 2 ê²°ê³¼ ë¦¬í¬íŠ¸ (Phase 1 ëŒ€ë¹„)
====================================================================

--- Phase 1 ê²°ê³¼ ---
RMSE: [X.XXX]m
P90:  [X.XXX]m
Within 1m: [XX.X]%
> 5m: [XXX]ê°œ

--- Phase 2 ê²°ê³¼ ---
RMSE: [X.XXX]m  (Î” [Â±X.X]%)
P90:  [X.XXX]m  (Î” [Â±X.X]%)
Within 1m: [XX.X]%  (Î” [Â±X.X]%)
> 5m: [XXX]ê°œ  (Î” [Â±XX]ê°œ)

--- ê°œì„  ì—¬ë¶€ ---
RMSE ê°ì†Œ: [Yes/No] ([X.X]%)
P90 ê°ì†Œ: [Yes/No] ([X.X]%)
Outlier ê°ì†Œ: [Yes/No] ([XXX]ê°œ)

====================================================================
```

### ğŸ’¡ ì˜ì‚¬ê²°ì • ì˜ˆì‹œ

**ì˜ˆì‹œ 1: í° ê°œì„ **
```
Phase 1: RMSE 2.4m, P90 1.7m
Phase 2: RMSE 2.1m, P90 1.4m
ê°œì„ : RMSE -12.5%, P90 -17.6%

â†’ âœ… Gradient feature íš¨ê³¼ í™•ì‹¤!
â†’ Phase 3 ì§„í–‰ (Outlier ì œê±°)
â†’ Threshold: 5.0m
```

**ì˜ˆì‹œ 2: ì‘ì€ ê°œì„ **
```
Phase 1: RMSE 2.4m, P90 1.7m
Phase 2: RMSE 2.3m, P90 1.6m
ê°œì„ : RMSE -4.2%, P90 -5.9%

â†’ âš ï¸ íš¨ê³¼ ìˆì§€ë§Œ ë¯¸ë¯¸
â†’ Phase 3 ì§„í–‰í•˜ë˜, Phase 4(Multi-scale)ê°€ ë” ì¤‘ìš”í•  ë“¯
â†’ Threshold: 5.0m (í‘œì¤€)
```

**ì˜ˆì‹œ 3: ê°œì„  ì—†ìŒ**
```
Phase 1: RMSE 2.4m, P90 1.7m
Phase 2: RMSE 2.5m, P90 1.8m
ê°œì„ : RMSE +4.2%, P90 +5.9%

â†’ âŒ Gradient featureê°€ ì˜¤íˆë ¤ í•´ë¡œì›€
â†’ Phase 1ìœ¼ë¡œ ë³µê·€
â†’ ë˜ëŠ” Gradient ì •ê·œí™” ì¬ê²€í† 
```

---

## Phase 3 ì™„ë£Œ ì „ (Outlier ë¶„ì„)

### ğŸ“‹ ë³µì‚¬í•  ì •ë³´

```bash
# Outlier ë¶„ì„ ê²°ê³¼
cat analysis/outputs/outlier_analysis.json

# ë˜ëŠ” ë¶„ì„ ë¡œê·¸
cat analysis/outputs/outlier_analysis_phase2.log

# íŠ¹íˆ:
# - Train/Val/Testë³„ outlier ë¶„í¬
# - Thresholdë³„ ì œê±°ë  ìƒ˜í”Œ ìˆ˜
```

### ğŸ¤” íŒë‹¨ ê¸°ì¤€: Threshold ê²°ì •

| > 5m ë¹„ìœ¨ | ì¶”ì²œ Threshold | ì´ìœ  |
|-----------|----------------|------|
| < 2% | 5.0m (ë³´ìˆ˜ì ) | Outlier ì ìŒ, ë°ì´í„° ì†ì‹¤ ìµœì†Œí™” |
| 2-4% | 5.0m (í‘œì¤€) | ì ë‹¹í•œ ìˆ˜ì¤€ |
| 4-6% | 4.5m (ì•½ê°„ ê³µê²©ì ) | Outlier ë§ìŒ, ë” ì œê±° |
| > 6% | 4.0m (ê³µê²©ì ) | Outlier ë§¤ìš° ë§ìŒ, ë°ì´í„° í’ˆì§ˆ ì˜ì‹¬ |

### ğŸ“ ë³µì‚¬ í…œí”Œë¦¿

```
====================================================================
Outlier ë¶„ì„ ê²°ê³¼ (Phase 2 ëª¨ë¸ ê¸°ì¤€)
====================================================================

--- Train Set ---
ì´ ìƒ˜í”Œ: [XXXX]ê°œ
> 3m: [XXX]ê°œ (X.X%)
> 4m: [XXX]ê°œ (X.X%)
> 5m: [XXX]ê°œ (X.X%)  â† í•µì‹¬!
> 6m: [XXX]ê°œ (X.X%)

--- Val Set ---
ì´ ìƒ˜í”Œ: [XXXX]ê°œ
> 5m: [XXX]ê°œ (X.X%)

--- Test Set ---
ì´ ìƒ˜í”Œ: [XXXX]ê°œ
> 5m: [XXX]ê°œ (X.X%)

--- í†µê³„ ---
Mean error: [X.XX]m
Median error: [X.XX]m
P90 error: [X.XX]m
Max error: [XX.XX]m

====================================================================
```

### ğŸ’¡ ì˜ì‚¬ê²°ì • ì˜ˆì‹œ

**ì˜ˆì‹œ 1: Outlier ì ìŒ**
```
Train > 5m: 123ê°œ (1.1%)
Val > 5m: 45ê°œ (1.1%)
Test > 5m: 43ê°œ (1.0%)

â†’ Threshold: 5.0m
â†’ ì œê±° ìƒ˜í”Œ: ~210ê°œ (ì „ì²´ì˜ ~1%)
â†’ Phase 3 ì§„í–‰
```

**ì˜ˆì‹œ 2: Outlier ë³´í†µ**
```
Train > 5m: 345ê°œ (3.1%)
Val > 5m: 123ê°œ (3.0%)
Test > 5m: 119ê°œ (2.9%)

â†’ Threshold: 5.0m (í‘œì¤€)
â†’ ì œê±° ìƒ˜í”Œ: ~590ê°œ (ì „ì²´ì˜ ~3%)
â†’ Phase 3 ì§„í–‰
```

**ì˜ˆì‹œ 3: Outlier ë§ìŒ**
```
Train > 5m: 678ê°œ (6.1%)
Val > 5m: 234ê°œ (5.7%)
Test > 5m: 221ê°œ (5.4%)

â†’ ì„ íƒì§€:
  1. Threshold 4.0m (ë” ê³µê²©ì ) â†’ ì•½ 10% ì œê±°
  2. Threshold 5.0m (í‘œì¤€) â†’ ì•½ 6% ì œê±°
  3. Phase 2 ê²°ê³¼ ì¬ê²€í†  (ì™œ ì´ë ‡ê²Œ ë§ì€ì§€?)

â†’ ì¶”ì²œ: Threshold 4.5m (ì ˆì¶©ì•ˆ)
â†’ ë˜ëŠ” Phase 2 ì¬í•™ìŠµ (LR, Depth ì¡°ì •)
```

---

## Phase 3 ì™„ë£Œ í›„

### ğŸ“‹ ë³µì‚¬í•  ì •ë³´

```bash
# Phase 2 vs Phase 3 ë¹„êµ
echo "=== Phase 2 (Outlier ì œê±° ì „) ==="
grep -A 10 "ê¸°ë³¸ ë©”íŠ¸ë¦­" new/models/phase2/logs/test.log
echo "=== Phase 3 (Outlier ì œê±° í›„) ==="
grep -A 10 "ê¸°ë³¸ ë©”íŠ¸ë¦­" new/models/phase3/logs/test.log

# Outlier í•„í„°ë§ ì •ë³´
cat analysis/outputs/outlier_filter.log | grep -A 5 "ì´ ì œê±°"
```

### ğŸ¤” íŒë‹¨ ê¸°ì¤€

| ì§€í‘œ | ê¸°ëŒ€ | íŒë‹¨ |
|------|------|------|
| RMSE | 5-10% ê°ì†Œ | Outlier ì œê±° íš¨ê³¼ |
| P90 | 5-15% ê°ì†Œ | ì¤‘ìš”! |
| Max error | < 5m | âœ… ëª©í‘œ ë‹¬ì„± |
| Within 1m | ì¦ê°€ | ë°ì´í„° í’ˆì§ˆ í–¥ìƒ |

### ğŸ“ ë³µì‚¬ í…œí”Œë¦¿

```
====================================================================
Phase 3 ê²°ê³¼ ë¦¬í¬íŠ¸ (Outlier ì œê±° íš¨ê³¼)
====================================================================

--- Outlier ì œê±° ì •ë³´ ---
Threshold: [X.X]m
ì œê±°ëœ ìƒ˜í”Œ:
  Train: [XXX]ê°œ (X.X%)
  Val:   [XXX]ê°œ (X.X%)
  Test:  [XXX]ê°œ (X.X%)

--- Phase 2 ê²°ê³¼ ---
RMSE: [X.XXX]m
P90:  [X.XXX]m
Max:  [XX.XX]m
Within 1m: [XX.X]%

--- Phase 3 ê²°ê³¼ ---
RMSE: [X.XXX]m  (Î” [Â±X.X]%)
P90:  [X.XXX]m  (Î” [Â±X.X]%)
Max:  [XX.XX]m  (Î” [Â±XX.X]%) â† ì¤‘ìš”!
Within 1m: [XX.X]%  (Î” [Â±X.X]%)

--- ëª©í‘œ ë‹¬ì„± ì—¬ë¶€ ---
RMSE â‰¤ 2.0m: [Yes/No]
Max â‰¤ 5m: [Yes/No]
Within 1m â‰¥ 80%: [Yes/No]

====================================================================
```

### ğŸ’¡ ì˜ì‚¬ê²°ì • ì˜ˆì‹œ

**ì˜ˆì‹œ 1: ëª©í‘œ ë‹¬ì„±**
```
Phase 3 ê²°ê³¼:
  RMSE: 1.9m (ëª©í‘œ ë‹¬ì„±!)
  P90: 1.2m
  Max: 4.8m (ëª©í‘œ ë‹¬ì„±!)
  Within 1m: 82% (ëª©í‘œ ë‹¬ì„±!)

â†’ âœ… Phase 3ê¹Œì§€ë¡œ ì¶©ë¶„!
â†’ Phase 4ëŠ” ì„ íƒì‚¬í•­ (ë” ê°œì„  ì›í•˜ë©´)
â†’ ê²°ê³¼ ë§Œì¡±ìŠ¤ëŸ¬ìš°ë©´ ì—¬ê¸°ì„œ ì¢…ë£Œ ê°€ëŠ¥
```

**ì˜ˆì‹œ 2: ëª©í‘œ ê·¼ì ‘**
```
Phase 3 ê²°ê³¼:
  RMSE: 2.1m (ëª©í‘œ: 2.0m)
  P90: 1.3m
  Max: 5.2m (ëª©í‘œ: 5.0m)
  Within 1m: 78% (ëª©í‘œ: 80%)

â†’ âš ï¸ ê±°ì˜ ë‹¤ ì™”ìŒ!
â†’ Phase 4 ì§„í–‰ ì¶”ì²œ (Multi-scale + Attention)
â†’ ì˜ˆìƒ: RMSE 1.8-2.0m, ëª©í‘œ ë‹¬ì„± ê°€ëŠ¥
```

**ì˜ˆì‹œ 3: ì¶”ê°€ ê°œì„  í•„ìš”**
```
Phase 3 ê²°ê³¼:
  RMSE: 2.3m
  P90: 1.5m
  Max: 6.1m
  Within 1m: 72%

â†’ âŒ ëª©í‘œ ë¯¸ë‹¬
â†’ ì„ íƒì§€:
  1. Phase 4 ì§„í–‰ (Multi-scale)
  2. Depth 12ë¡œ ì¬í•™ìŠµ
  3. Direction features ì¶”ê°€ (Phase 3.5)
```

---

## ğŸ¯ ë¹ ë¥¸ ì˜ì‚¬ê²°ì • í”Œë¡œìš°

```
Phase 1 ì™„ë£Œ
  â”‚
  â”œâ”€ RMSE < 2.3m â†’ Phase 2 ì§„í–‰
  â”œâ”€ RMSE 2.3-2.6m â†’ Phase 2 ì§„í–‰ (ì£¼ì˜)
  â””â”€ RMSE > 2.6m â†’ íŒŒë¼ë¯¸í„° ì¬ì¡°ì •

Phase 2 ì™„ë£Œ
  â”‚
  â”œâ”€ ê°œì„  > 10% â†’ Phase 3 ì§„í–‰ (threshold 5.0m)
  â”œâ”€ ê°œì„  5-10% â†’ Phase 3 ì§„í–‰ (threshold 4.5-5.0m)
  â””â”€ ê°œì„  < 5% â†’ Phase 1 ë³µê·€ or Phase 3 skip

Phase 3 ì™„ë£Œ
  â”‚
  â”œâ”€ ëª©í‘œ ë‹¬ì„± â†’ ì¢…ë£Œ or Phase 4 (ì„ íƒ)
  â”œâ”€ ëª©í‘œ ê·¼ì ‘ â†’ Phase 4 ì§„í–‰
  â””â”€ ëª©í‘œ ë¯¸ë‹¬ â†’ Depth/LR ì¬ì¡°ì • or Phase 4
```

---

**ğŸ’¡ Tip**: ê° Phase ê²°ê³¼ë¥¼ ìœ„ í…œí”Œë¦¿ì— ë§ì¶° ë³´ë‚´ì£¼ì‹œë©´,
ë‹¤ìŒ ë‹¨ê³„ ì„¤ì •(Threshold, LR, Depth ë“±)ì„ ì •í™•íˆ ì¶”ì²œí•´ë“œë¦½ë‹ˆë‹¤!
